# フェーズ2: プレイヤーロジック

## 目的
プレイヤーの生成・レベルアップ・成長曲線を実装する。

## 依存
- フェーズ1（型定義）

## 実装ファイル
- `src/lib/player.ts`

## 関数

### createInitialPlayer
初期プレイヤーを生成する。属性ランダムの「棒」を装備。

### getRequiredExp
次のレベルに必要なEXPを計算する。
- 序盤: 二次関数的（`level^2` ベース）
- 中盤以降: 指数要素追加

### levelUp
EXPが足りていればレベルアップし、ステータスを上昇させる。
- MaxHP増加
- ATK増加
- 段階的に成長量も増加

### addExp
経験値を加算し、必要に応じて複数回レベルアップする。

### heal
HP回復（Rest イベント用）。MaxHPを超えない。

### takeDamage
ダメージを受ける。HP0以下で死亡判定。

## テスト
- 初期プレイヤーがLv1で正しい初期値を持つこと
- EXP要求が序盤は緩やか、後半は指数的に増加すること
- レベルアップでステータスが正しく上昇すること
- 複数レベルアップが一度に処理されること
- 回復がMaxHPを超えないこと
- HP0以下でdead判定になること

## 完了条件
- 全テストが通る
- 成長曲線が設計意図（序盤緩やか→後半インフレ）に沿っていること
